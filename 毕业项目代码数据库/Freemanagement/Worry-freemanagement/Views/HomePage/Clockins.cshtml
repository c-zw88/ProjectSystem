
@{
    ViewBag.Title = "Clockins";
    Layout = "~/Views/Shared/_LayoutPersonal.cshtml";
}
@using Worry_freemanagement.Models;
@model Stafftable
@{
    Stafftable sta = Session["user"] as Stafftable;
}
<style>
    .btns {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        font-size: 24px;
        background-color: #96dcf3;
        margin-top: 200px;
        border-color: white;
        color: white;
    }

    .time1 {
        width: 100%;
        height: 50px;
        line-height: 50px;
        text-align: center;
        font-size: 24px;
        margin-top: 10px;
    }
</style>
<h2>考勤打卡</h2>
<form action="/HomePage/Clockins" method="post">
    @if (ViewBag.isCol)
    {
        <div style="text-align:center;">
            <h2>今日已打卡！</h2>
        </div>
    }
    else
    {
        <div style="text-align:center;">
            <input type="hidden" name="EmployeeID" value="@sta.EmployeeID" />
            <input type="hidden" name="Name" value="@sta.Name" />
            <input type="submit" name="name" value="打卡" class="btns" />
        </div>}
    <div>
        <div id="timeShow" class="time1"></div>
    </div>
</form>


<script language="javascript">
    var t = null;
    t = setTimeout(time, 1000);//开始执行
    function time() {
        clearTimeout(t);//清除定时器
        dt = new Date();
        var y = dt.getYear() + 1900;
        var mm = dt.getMonth() + 1;
        var d = dt.getDate();
        var weekday = ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"];
        var day = dt.getDay();
        var h = dt.getHours();
        var m = dt.getMinutes();
        var s = dt.getSeconds();
        if (h < 10) { h = "0" + h; }
        if (m < 10) { m = "0" + m; }
        if (s < 10) { s = "0" + s; }
        document.getElementById("timeShow").innerHTML = "现在的时间为：" + y + "年" + mm + "月" + d + "日" + weekday[day] + "" + h + ": " + m + ": " + s + "";
        t = setTimeout(time, 1000); //设定定时器，循环执行
    }

</script>



